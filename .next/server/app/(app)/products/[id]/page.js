(()=>{var e={};e.id=379,e.ids=[379],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},94007:e=>{"use strict";e.exports=require("@prisma/client")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},55480:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>c.a,__next_app__:()=>u,originalPathname:()=>f,pages:()=>l,routeModule:()=>b,tree:()=>o}),t(21446),t(25215),t(35866),t(65116);var r=t(23191),s=t(88716),d=t(37922),c=t.n(d),n=t(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);t.d(a,i);let o=["",{children:["(app)",{children:["products",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,21446)),"/Users/developeruvidest/Desktop/next/nextjs_lab1/src/app/(app)/products/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,25215)),"/Users/developeruvidest/Desktop/next/nextjs_lab1/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,65116)),"/Users/developeruvidest/Desktop/next/nextjs_lab1/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/Users/developeruvidest/Desktop/next/nextjs_lab1/src/app/(app)/products/[id]/page.tsx"],f="/(app)/products/[id]/page",u={require:t,loadChunk:()=>Promise.resolve()},b=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(app)/products/[id]/page",pathname:"/products/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},26734:(e,a,t)=>{let r={"33bef34d6a15de2aaa2f9c430213a97a5c0a2e19":()=>Promise.resolve().then(t.bind(t,21449)).then(e=>e.$$ACTION_1),"5e6766af5288d8aec40a2d6ac2aea8effcdcebad":()=>Promise.resolve().then(t.bind(t,21449)).then(e=>e.updateUserStatus),"60f334f9f4317af439741215707bec5f9611e39b":()=>Promise.resolve().then(t.bind(t,21449)).then(e=>e.$$ACTION_3),"673dd9ab3d3f0028c78a6d26541a2161f6439018":()=>Promise.resolve().then(t.bind(t,21449)).then(e=>e.updateUser),"9dcc4f1f1a682149fe630bca43fcf4c1da565c2b":()=>Promise.resolve().then(t.bind(t,21449)).then(e=>e.$$ACTION_0),d7adb8a7ad4cf9d293d02c2043d9e3aa180ab4c6:()=>Promise.resolve().then(t.bind(t,21449)).then(e=>e.getUserCart),e2ed0582518e52d54e0903aa85bf2bfaba284412:()=>Promise.resolve().then(t.bind(t,21449)).then(e=>e.$$ACTION_2),eee71d632e24bfa9799e10cd5a430caefef6d8cc:()=>Promise.resolve().then(t.bind(t,21449)).then(e=>e.getUser)};async function s(e,...a){return(await r[e]()).apply(null,a)}e.exports={"33bef34d6a15de2aaa2f9c430213a97a5c0a2e19":s.bind(null,"33bef34d6a15de2aaa2f9c430213a97a5c0a2e19"),"5e6766af5288d8aec40a2d6ac2aea8effcdcebad":s.bind(null,"5e6766af5288d8aec40a2d6ac2aea8effcdcebad"),"60f334f9f4317af439741215707bec5f9611e39b":s.bind(null,"60f334f9f4317af439741215707bec5f9611e39b"),"673dd9ab3d3f0028c78a6d26541a2161f6439018":s.bind(null,"673dd9ab3d3f0028c78a6d26541a2161f6439018"),"9dcc4f1f1a682149fe630bca43fcf4c1da565c2b":s.bind(null,"9dcc4f1f1a682149fe630bca43fcf4c1da565c2b"),d7adb8a7ad4cf9d293d02c2043d9e3aa180ab4c6:s.bind(null,"d7adb8a7ad4cf9d293d02c2043d9e3aa180ab4c6"),e2ed0582518e52d54e0903aa85bf2bfaba284412:s.bind(null,"e2ed0582518e52d54e0903aa85bf2bfaba284412"),eee71d632e24bfa9799e10cd5a430caefef6d8cc:s.bind(null,"eee71d632e24bfa9799e10cd5a430caefef6d8cc")}},18761:(e,a,t)=>{let r={"2c772b0df2a855f0ceb8113aa3783a39590fde9c":()=>Promise.resolve().then(t.bind(t,936)).then(e=>e.UserRemoveCartProductAction),"30fa4f97a6ab9593deeea6eafc17d5cee515c1d0":()=>Promise.resolve().then(t.bind(t,936)).then(e=>e.UserInsetCartProductAction),"9c2b3f10b562faad06234797362b5e8be0d7281a":()=>Promise.resolve().then(t.bind(t,936)).then(e=>e.UserUpdateAction)};async function s(e,...a){return(await r[e]()).apply(null,a)}e.exports={"2c772b0df2a855f0ceb8113aa3783a39590fde9c":s.bind(null,"2c772b0df2a855f0ceb8113aa3783a39590fde9c"),"30fa4f97a6ab9593deeea6eafc17d5cee515c1d0":s.bind(null,"30fa4f97a6ab9593deeea6eafc17d5cee515c1d0"),"9c2b3f10b562faad06234797362b5e8be0d7281a":s.bind(null,"9c2b3f10b562faad06234797362b5e8be0d7281a")}},59851:(e,a,t)=>{Promise.resolve().then(t.bind(t,80251))},80251:(e,a,t)=>{"use strict";t.d(a,{default:()=>i});var r=t(10326),s=t(43678),d=t(80264),c=t(35047),n=t(37007);function i(e){let{errors:a,hasErrors:t,setErrors:i,handleChange:o}=(0,s.h)(d.rx),l=(0,c.useRouter)(),f=async()=>{try{await (0,n.nl)(e.id,1)&&await l.push("/cart")}catch(e){console.log(e)}};return r.jsx("button",{onClick:f,className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Save to Cart"})}},37007:(e,a,t)=>{"use strict";t.d(a,{Dq:()=>s,Tm:()=>d,nl:()=>c}),t(15424);var r=t(46242),s=(0,r.$)("2c772b0df2a855f0ceb8113aa3783a39590fde9c"),d=(0,r.$)("9c2b3f10b562faad06234797362b5e8be0d7281a"),c=(0,r.$)("30fa4f97a6ab9593deeea6eafc17d5cee515c1d0")},21446:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>u});var r=t(19510),s=t(31526),d=t(58585),c=t(21449),n=t(68570);let i=(0,n.createProxy)(String.raw`/Users/developeruvidest/Desktop/next/nextjs_lab1/src/components/ATCButton.tsx`),{__esModule:o,$$typeof:l}=i;i.default;let f=(0,n.createProxy)(String.raw`/Users/developeruvidest/Desktop/next/nextjs_lab1/src/components/ATCButton.tsx#default`);async function u({params:e}){let a=await (0,s.gk)(e.id);return a||(0,d.redirect)("/404"),await (0,c.getUser)(),r.jsx("div",{children:r.jsx("div",{className:"bg-gray-100 dark:bg-gray-800 py-8",children:r.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row -mx-4",children:[(0,r.jsxs)("div",{className:"md:flex-1 px-4",children:[r.jsx("div",{className:"h-[460px] rounded-lg bg-gray-300 dark:bg-gray-700 mb-4",children:r.jsx("img",{className:"w-full h-full objclassNameover object-contain",src:a.photo,alt:"Product Image"})}),r.jsx("div",{className:"flex -mx-2 mb-4",children:r.jsx("div",{className:"w-1/2 px-2",children:r.jsx(f,{...a})})})]}),(0,r.jsxs)("div",{className:"md:flex-1 px-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:a.title}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mb-4",children:a?.description}),(0,r.jsxs)("div",{className:"flex mb-4",children:[(0,r.jsxs)("div",{className:"mr-4",children:[r.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Price:"}),(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-300",children:[a.price/100,"$"]})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Availability:"}),r.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"In Stock"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300",children:"Product Description:"}),r.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm mt-2",children:a?.description})]})]})]})})})})}},77998:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$ACTION_0:()=>i,$$ACTION_1:()=>l,$$ACTION_2:()=>u,$$ACTION_3:()=>p,getUser:()=>o,getUserCart:()=>f,updateUser:()=>n,updateUserStatus:()=>b});var r=t(27745);t(26461);var s=t(1439),d=t(48137),c=t(85723);let n=(0,r.registerServerReference)("9dcc4f1f1a682149fe630bca43fcf4c1da565c2b",i);async function i(e,a){return await s.db.user.update({where:{id:e},data:a})}let o=(0,r.registerServerReference)("33bef34d6a15de2aaa2f9c430213a97a5c0a2e19",l);async function l(){await (0,d.checkAuth)();let e=await (0,d.getUserAuth)();if(e)return await s.db.user.findUnique({where:{id:e.user.id}})}let f=(0,r.registerServerReference)("e2ed0582518e52d54e0903aa85bf2bfaba284412",u);async function u(){await (0,d.checkAuth)();let e=await (0,d.getUserAuth)();if(e)return await s.db.cart.findMany({where:{userId:e.user.id},include:{product:!0}})}let b=(0,r.registerServerReference)("60f334f9f4317af439741215707bec5f9611e39b",p);async function p(e,a,t){if(!t){await (0,d.checkAuth)();let e=await (0,d.getUserAuth)();if(!e)return;t=e.user.id}return await s.db.user.update({where:{id:t},data:{role:e,roleStatus:a}})}(0,c.ensureServerEntryExports)([n,o,f,b]),(0,r.registerServerReference)("673dd9ab3d3f0028c78a6d26541a2161f6439018",n),(0,r.registerServerReference)("eee71d632e24bfa9799e10cd5a430caefef6d8cc",o),(0,r.registerServerReference)("d7adb8a7ad4cf9d293d02c2043d9e3aa180ab4c6",f),(0,r.registerServerReference)("5e6766af5288d8aec40a2d6ac2aea8effcdcebad",b)},21449:(e,a,t)=>{"use strict";t.r(a),t.d(a,{$$ACTION_0:()=>i,$$ACTION_1:()=>l,$$ACTION_2:()=>u,$$ACTION_3:()=>p,getUser:()=>o,getUserCart:()=>f,updateUser:()=>n,updateUserStatus:()=>b});var r=t(24330);t(60166);var s=t(11580),d=t(31873),c=t(40618);let n=(0,r.j)("9dcc4f1f1a682149fe630bca43fcf4c1da565c2b",i);async function i(e,a){return await s.db.user.update({where:{id:e},data:a})}let o=(0,r.j)("33bef34d6a15de2aaa2f9c430213a97a5c0a2e19",l);async function l(){await (0,d.wt)();let e=await (0,d.vu)();if(e)return await s.db.user.findUnique({where:{id:e.user.id}})}let f=(0,r.j)("e2ed0582518e52d54e0903aa85bf2bfaba284412",u);async function u(){await (0,d.wt)();let e=await (0,d.vu)();if(e)return await s.db.cart.findMany({where:{userId:e.user.id},include:{product:!0}})}let b=(0,r.j)("60f334f9f4317af439741215707bec5f9611e39b",p);async function p(e,a,t){if(!t){await (0,d.wt)();let e=await (0,d.vu)();if(!e)return;t=e.user.id}return await s.db.user.update({where:{id:t},data:{role:e,roleStatus:a}})}(0,c.h)([n,o,f,b]),(0,r.j)("673dd9ab3d3f0028c78a6d26541a2161f6439018",n),(0,r.j)("eee71d632e24bfa9799e10cd5a430caefef6d8cc",o),(0,r.j)("d7adb8a7ad4cf9d293d02c2043d9e3aa180ab4c6",f),(0,r.j)("5e6766af5288d8aec40a2d6ac2aea8effcdcebad",b)},5529:(e,a,t)=>{"use strict";t.d(a,{cartAddProduct:()=>d,cartDelete:()=>c});var r=t(1439),s=t(48137);let d=async(e,a)=>{await (0,s.checkAuth)();let t=await (0,s.getUserAuth)();if(t)return await r.db.cart.create({data:{userId:t.user.id,productId:e,count:a}})},c=async e=>await r.db.cart.delete({where:{id:e}})},66302:(e,a,t)=>{"use strict";t.d(a,{updateUserParams:()=>s});var r=t(89756);r.userSchema.omit({id:!0}),r.userSchema.extend({}).omit({id:!0});let s=r.userSchema.extend({});r.userSchema.pick({id:!0})},936:(e,a,t)=>{"use strict";t.r(a),t.d(a,{UserInsetCartProductAction:()=>i,UserRemoveCartProductAction:()=>o,UserUpdateAction:()=>n});var r=t(27745);t(26461);var s=t(66302),d=t(77998),c=t(5529);async function n(e){try{let a=s.updateUserParams.parse(e);await (0,d.updateUser)(a.id,a)}catch(e){console.log(e)}}async function i(e,a){try{return await (0,c.cartAddProduct)(e,a)}catch(e){console.log(e)}}async function o(e){try{return await (0,c.cartDelete)(e)}catch(e){console.log(e)}}(0,t(85723).ensureServerEntryExports)([n,i,o]),(0,r.registerServerReference)("9c2b3f10b562faad06234797362b5e8be0d7281a",n),(0,r.registerServerReference)("30fa4f97a6ab9593deeea6eafc17d5cee515c1d0",i),(0,r.registerServerReference)("2c772b0df2a855f0ceb8113aa3783a39590fde9c",o)}};var a=require("../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[948,668,670,621,28,256,341,490],()=>t(55480));module.exports=r})();